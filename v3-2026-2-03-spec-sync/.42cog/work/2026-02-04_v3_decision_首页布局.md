# 首页布局设计决策记录

> 日期：2026-02-04
> 状态：设计完成，待开发
> 关联文档：real.md (Appendix B)

---

## 决策背景

在设计 YouTube 竞品分析工具的首页布局时，经过多轮迭代和用户反馈，形成了当前的设计方案。本文档记录关键决策及其原因。

---

## 核心设计原则

### 原则 1：用户第一眼看到最重要的功能

**问题**：初版设计把"数据概览"（统计数字）放在首屏最显眼位置

**用户反馈**：
> "重要的应该放在用户第一眼就能看到的地方，想想一下用户第一秒没看到自己想要的功能，他就划走不看了"

**决策**：
- ✅ 搜索框放最顶部
- ✅ 最近搜索紧跟搜索框下方
- ✅ 三大功能入口（视频列表/频道排行/话题趋势）放在首屏
- ❌ 数据概览移到页面底部

**视觉层级（从上到下）**：
```
1. 搜索框 + 最近搜索     ← 用户第一眼：我要找什么？
2. 筛选条件（折叠状态）  ← 需要时再展开
3. 三大功能入口          ← 用户第二眼：我能做什么？
4. 本周爆款/黑马频道     ← 快速发现价值
5. 数据概览（底部）      ← 统计信息，最不重要
```

---

### 原则 2：记住用户行为

**问题**：用户每次都要重新输入关键词

**用户反馈**：
> "记住用户曾经搜索过什么，用户搜索过的数据也放在第一眼就能看到的地方"

**决策**：
- ✅ 保存用户搜索历史（本地存储）
- ✅ 最近搜索显示在搜索框正下方，一键点击即可重新搜索
- ✅ 提供"清空历史"选项

**实现方式**：
```
最近搜索：[养生] [太极拳教学] [八段锦] [中医穴位]    [清空历史]
```

---

### 原则 3：筛选条件默认折叠

**问题**：初版设计把所有筛选条件展开显示，占用大量首屏空间

**用户反馈**：
> "这个是可以折叠起来，当用户需要的时候再展开"

**决策**：
- ✅ 筛选条件默认折叠，显示 `[▶ 展开筛选条件]`
- ✅ 用户点击后展开完整筛选面板
- ✅ 展开状态显示 `[▼ 收起筛选条件]`

**好处**：
- 首屏更简洁
- 新用户不会被复杂选项吓到
- 高级用户需要时再展开

---

### 原则 4：只保留有意义的筛选

**问题**：初版设计包含过多筛选条件

**用户反馈**：
> "频道筛选感觉没必要、发布星期也没那么重要，互动率范围用户也看不懂"

**决策 - 保留的筛选**：

| 筛选项 | 保留原因 |
|-------|---------|
| 时间范围 | 核心需求，对应 YouTube sp 参数 |
| 时长 | YouTube 原生分类，有实际意义 |
| 频道规模 | 找黑马频道的关键筛选 |
| 播放量 | 过滤低质量视频 |
| 内容标签 | 按话题分类 |

**决策 - 删除的筛选**：

| 筛选项 | 删除原因 |
|-------|---------|
| 频道筛选（包含/排除） | 太复杂，使用场景少 |
| 发布星期 | 不重要，无法采集小时级数据 |
| 互动率范围 | 用户看不懂"互动率"是什么 |

---

### 原则 5：排序让用户自己选

**问题**：初版设计写死了排序方式

**用户反馈**：
> "排序不要写死，让用户自己选"
> "让用户选从 x 到 x，比如从高到低还是从低到高"

**决策**：排序拆分为三个独立选择

```
时间范围: [7天内 ▼]    排序字段: [播放量 ▼]    方向: [高→低 ▼]
```

**三个维度**：

| 维度 | 选项 | 说明 |
|------|------|------|
| 时间范围 | 24小时/7天/30天/1年/全部 | 筛选这个时间内发布的视频 |
| 排序字段 | 播放量/点赞数/评论数/日均播放/时长 | 按什么指标排 |
| 方向 | 高→低 / 低→高 (或 新→旧 / 旧→新) | 升序或降序 |

**自然语言显示当前规则**：
```
当前: 7天内发布的视频，按播放量从高到低排序
```

---

### 原则 6：时长分类必须符合 YouTube 原生逻辑

**问题**：初版设计使用自定义时长分档

```
❌ 错误设计：
[0-5m]: 45%   [5-10m]: 20%   [10-20m]: 15%   [20+m]: 20%
```

**用户反馈**：
> "这个时长也不对，youtube 不是这么筛选的"

**决策**：使用 YouTube 原生时长分类

```
✅ 正确设计：
短视频 (<4min)    ████░░ 35%
中视频 (4-20min)  ██████ 45%
长视频 (>20min)   ███░░░ 20%
```

**原因**：
- YouTube 搜索 API 只支持这三种时长过滤
- 自定义分档（如 0-5min, 5-10min）没有业务含义
- 详见 real.md Appendix B.2 "关键限制 2"

---

### 原则 7：排序必须有明确的时间范围和标准

**问题**：初版设计的排序规则不明确

**用户反馈**：
> "你这个是按什么排序的？综合排序？按 xx 时间内播放量最高排序？按 xx 时间内涨粉最快排序？还是让用户自己选时间范围，排序标准？"

**决策**：
- ❌ 禁止使用"综合排序"等模糊概念
- ✅ 必须明确：时间范围 + 排序字段 + 方向
- ✅ 用自然语言显示当前排序规则

**示例**：
```
✅ "7天内发布的视频，按播放量从高到低排序"
✅ "30天内发布的视频，按日均播放从高到低排序"
❌ "综合排序"
❌ "热门视频"（热门的定义是什么？）
```

---

## 最终首页布局

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                         YouTube 竞品分析工具                                │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  🔍  输入关键词搜索（如：养生、太极、中医）                    [搜索] │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  最近搜索：[养生] [太极拳教学] [八段锦] [中医穴位]              [清空历史] │
│                                                                             │
│  [▶ 展开筛选条件]                                                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────┐ ┌───────────────────┐ ┌───────────────────┐         │
│  │   📊 视频列表     │ │   🏢 频道排行     │ │   🔥 话题趋势     │         │
│  │  按播放量/互动率  │ │  找高效率频道     │ │  发现新兴话题     │         │
│  │  筛选竞品视频     │ │  对标学习对象     │ │  Google Trends    │         │
│  │     [进入 →]      │ │     [进入 →]      │ │     [进入 →]      │         │
│  └───────────────────┘ └───────────────────┘ └───────────────────┘         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  🔥 本周爆款（播放量 Top 5）                              [查看全部 →]     │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐               │
│  │ 缩略图  │ │ 缩略图  │ │ 缩略图  │ │ 缩略图  │ │ 缩略图  │               │
│  │八段锦   │ │太极入门 │ │食疗秘诀 │ │气功教程 │ │穴位详解 │               │
│  │245万    │ │189万    │ │156万    │ │134万    │ │98万     │               │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘               │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  🏆 黑马频道（低订阅高播放）                              [查看全部 →]     │
│  ┌──────────────────────────────────────────────────────────────────────┐  │
│  │  频道名          订阅数      平均播放      效率分数      最近更新    │  │
│  │  养生小课堂      1.2万       8.5万         7.1x          2天前       │  │
│  │  中医讲坛        0.8万       5.2万         6.5x          5天前       │  │
│  │  功法入门        2.1万       9.8万         4.7x          1天前       │  │
│  └──────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📈 数据概览                                            最后采集: 2小时前  │
│  视频: 2,340 条  │  频道: 186 个  │  话题: 42 个  │  [⚙️ 采集设置]        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 筛选条件展开状态

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  [▼ 收起筛选条件]                                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐│
│  │                                                                         ││
│  │  ┌─ 时间范围 ───────┐  ┌─ 时长 (YouTube原生) ┐  ┌─ 频道规模 ─────────┐ ││
│  │  │ ○ 24小时内       │  │ ○ 全部              │  │ ○ 不限             │ ││
│  │  │ ○ 7天内          │  │ ○ 短视频 (<4min)    │  │ ○ 小频道 (<1万)    │ ││
│  │  │ ○ 30天内         │  │ ○ 中视频 (4-20min)  │  │ ○ 中频道 (1-10万)  │ ││
│  │  │ ○ 1年内          │  │ ○ 长视频 (>20min)   │  │ ○ 大频道 (10-100万)│ ││
│  │  │ ○ 不限           │  └─────────────────────┘  │ ○ 超大 (>100万)    │ ││
│  │  └──────────────────┘                           └────────────────────┘ ││
│  │                                                                         ││
│  │  ┌─ 播放量 ─────────────────────────────────────────────────────────┐  ││
│  │  │ 最低播放: [不限 ▼]     快捷: [1万+] [10万+] [50万+] [100万+]     │  ││
│  │  └───────────────────────────────────────────────────────────────────┘  ││
│  │                                                                         ││
│  │  ┌─ 内容标签 (可多选) ──────────────────────────────────────────────┐  ││
│  │  │ [✓] 教程  [✓] 养生功法  [✓] 食疗  [✓] 中医  [ ] 冥想  [ ] 评测   │  ││
│  │  └───────────────────────────────────────────────────────────────────┘  ││
│  │                                                                         ││
│  │                                        [重置]  [应用筛选]               ││
│  └─────────────────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 搜索结果页排序设计

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│  搜索结果: "养生"                                    共 156 条结果          │
│                                                                             │
│  ┌─ 排序设置 ───────────────────────────────────────────────────────────┐  │
│  │                                                                       │  │
│  │  时间范围: [7天内 ▼]      排序字段: [播放量 ▼]      方向: [高→低 ▼]  │  │
│  │                                                                       │  │
│  │  当前: 7天内发布的视频，按播放量从高到低排序                          │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌──────────────────────────────────────────────────────────────────────┐  │
│  │ #1                                                                   │  │
│  │  ┌────────┐  八段锦完整教学 - 每天15分钟改善体质                    │  │
│  │  │ 缩略图 │  频道: 养生堂 (订阅: 52万)                              │  │
│  │  └────────┘  播放: 245万  │  点赞: 8.2万  │  评论: 1,240            │  │
│  │              时长: 12分钟  │  发布: 3天前  │  日均: 81.6万           │  │
│  ├──────────────────────────────────────────────────────────────────────┤  │
│  │ #2                                                                   │  │
│  │  ┌────────┐  太极拳入门指南 - 零基础也能学                          │  │
│  │  │ 缩略图 │  频道: 功法传承 (订阅: 8.3万)                           │  │
│  │  └────────┘  播放: 189万  │  点赞: 6.5万  │  评论: 892              │  │
│  │              时长: 18分钟  │  发布: 5天前  │  日均: 37.8万           │  │
│  └──────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 数据来源与约束

| 数据项 | 来源 | 采集阶段 | 约束 |
|-------|------|---------|------|
| 标题、播放量、时长 | yt-dlp | Stage1 (0.5s) | 基础字段 |
| 点赞、评论、发布日期 | yt-dlp | Stage2 (3-5s) | 仅 Top 视频 |
| 频道订阅数 | channels.list | Stage2 | 仅 Top 视频 |
| 时长分类 | duration 字段 | 本地计算 | 必须用 YouTube 原生分类 |
| 日均播放 | views / days | 本地计算 | 派生指标 |
| 发布日期 | published_at | Stage2 | ⚠️ 仅日期级，无小时 |

---

## 决策总结

| 决策 | 原因 |
|------|------|
| 搜索框 + 最近搜索放最顶部 | 用户第一眼看到最重要的功能 |
| 筛选条件默认折叠 | 不占用首屏空间，需要时再展开 |
| 删除复杂筛选（频道筛选、互动率范围等） | 用户看不懂，使用场景少 |
| 排序拆分为三个选择（时间+字段+方向） | 让用户自己控制，不写死 |
| 时长使用 YouTube 原生分类 | 自定义分档无业务含义 |
| 排序规则用自然语言显示 | 避免模糊的"综合排序" |
| 数据概览放最底部 | 统计数字不是用户第一需求 |

---

## 下一步计划

- [ ] 设计频道排行页布局
- [ ] 设计话题趋势页布局（集成 Google Trends）
- [ ] 设计视频详情页布局
- [ ] 将布局设计转化为 UI 组件规范
