# 模式洞察 - 频道维度 - 数据层

> 包含模式：11, 12, 14
> 最后更新：2026-01-24

---

## 数据表

| 数据表 | 用途 |
|--------|------|
| channels | 频道基础信息 |
| competitor_videos | 视频播放量、发布时间 |

## 关键字段

| 字段 | 类型 | 说明 |
|------|------|------|
| channels.subscriber_count | INT | 订阅数 |
| channels.created_at | DATETIME | 频道创建时间（覆盖率仅21%） |
| competitor_videos.view_count | INT | 播放量 |
| competitor_videos.channel_id | VARCHAR | 关联频道 |
| competitor_videos.published_at | DATE | 视频发布日期 |

## 数据范围

| 项目 | 说明 |
|------|------|
| 频道总数 | 979 个 |
| 频道创建时间覆盖率 | 21%（仅208个频道有数据） |
| 视频总数 | 2340 条 |

## 数据质量

| 问题 | 状态 | 影响 |
|------|------|------|
| 频道创建时间缺失(79%) | ⚠️ 采集中 | 无法验证"30天新频道"假设 |
| 可能存在矩阵账号 | ⚠️ 已知 | 如 laxne/laxnetcm/Laxne 疑似同一人 |
| 删除/私有视频不可见 | ℹ️ 已知 | 首个视频日期可能不准确 |

## 采集命令

```bash
# 采集频道创建时间
python3 scripts/fetch_channel_info.py

# 完成标准：979个频道中 ≥80% 有 created_at 数据
```

```sql
-- 频道稳定性查询
SELECT
    channel_title,
    COUNT(*) as video_count,
    AVG(view_count) as avg_views,
    MAX(view_count) as max_views,
    MAX(view_count) / AVG(view_count) as max_avg_ratio
FROM competitor_videos
GROUP BY channel_id, channel_title
HAVING COUNT(*) >= 5
ORDER BY max_avg_ratio DESC;

-- 黑马频道查询
SELECT
    c.channel_title,
    c.subscriber_count,
    MAX(v.view_count) as max_views,
    MAX(v.view_count) / c.subscriber_count as burst_ratio
FROM channels c
JOIN competitor_videos v ON c.channel_id = v.channel_id
WHERE c.subscriber_count > 0
GROUP BY c.channel_id, c.channel_title, c.subscriber_count
ORDER BY burst_ratio DESC
LIMIT 20;

-- 快速增长频道筛选
SELECT
    channel_title,
    subscriber_count,
    MIN(published_at) as first_video,
    MAX(published_at) as last_video,
    DATEDIFF(MAX(published_at), MIN(published_at)) as active_days,
    COUNT(*) as video_count,
    SUM(view_count) as total_views
FROM competitor_videos
JOIN channels USING(channel_id)
GROUP BY channel_id, channel_title, subscriber_count
HAVING active_days <= 30 AND subscriber_count >= 1000
ORDER BY total_views DESC;
```

---

## 相关文档

- [模式洞察-频道维度-方法.md](./模式洞察-频道维度-方法.md)
- [模式洞察-频道维度-输出.md](./模式洞察-频道维度-输出.md)
