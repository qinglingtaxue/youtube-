# 全局认识页面设计

> 日期: 2026-02-04
> 状态: 设计完成，待开发
> 通用决策: [2026-02-04_v3_decision_图表选择策略.md](2026-02-04_v3_decision_图表选择策略.md)

---

## 页面定位

**全局认识**：看懂市场（是什么）— 建立对数据信息分布的直观理解

> 详细的页面定位对比见：`2026-02-04_v3_decision_图表选择策略.md` 第 1 节

| 维度 | 本页面策略 |
|------|-----------|
| **核心问题** | 市场长什么样？ |
| **用户目标** | 建立整体认知 |
| **数据关系** | 分布、统计、趋势 |
| **图表策略** | **多样化**展示各维度 |
| **多样性目标** | 8/8 类型覆盖 |
| **全局筛选** | 时间范围筛选（影响全部子标签，同步影响套利分析、信息报告、创作者中心） |

---

## 本页面图表选择（细化应用）

> 决策依据见：`2026-02-04_v3_decision_图表选择策略.md` 第 2 节决策矩阵

| 数据需求 | 数据类型 | 数量级 | 选择的图表 | 决策依据 |
|---------|---------|-------|-----------|---------|
| 展示关键指标 | 单一数值 | 4-6个 | **数字卡片行** | 单一指标 → 数字卡片 |
| 播放量分布 | 连续分布 | 2340条 | **直方图** | 连续分布 + 100-1000 → 直方图 |
| 时长占比 | 分类计数 | 3类 | **环形图** | 分类 2-5 类 → 环形图 |
| 频道规模占比 | 分类计数 | 4类 | **环形图** | 分类 2-5 类 → 环形图 |
| 播放量分层 | 分类计数 | 5类 | **饼图** | 部分与整体 → 饼图 |
| 视频发布趋势 | 时间序列 | 12点 | **折线图** | 时间趋势 ≤12 点 → 折线图 |
| 时间窗口分布 | 分类计数 | 4类 | **柱状图** | 分类对比 → 柱状图 |
| 发布星期分布 | 周期数据 | 7天 | **雷达图** | 周期对比 → 雷达图 |
| 发布时间热力 | 时间×分类 | 7×24 | **热力图** | 二维分类 → 热力图 |
| 四象限定位 | 两指标相关 | 100+点 | **散点图** | 两指标相关 50-500 → 散点图 |
| Top10频道 | 排名数据 | 10条 | **表格** | 排名 ≤10 → 表格 |
| 频道集中度 | 分类计数 | 4类 | **柱状图** | 分类对比 → 柱状图 |
| 语言分布 | 分类计数 | 5-15类 | **横向柱状图** | 分类 >5 类 → 柱状图；语言名适合横向 |
| 频道国家分布 | 分类计数 | 10-30类 | **横向柱状图** | 分类 >5 类 → 柱状图；国家名较长适合横向 |

### 多样性检查

> 检查清单见：`2026-02-04_v3_decision_图表选择策略.md` 第 4 节

```
✅ 数字展示类：数字卡片行（视频数、频道数、总播放、平均播放）
✅ 比例类：环形图（时长分布、频道规模）、饼图（播放量分层）
✅ 比较类：柱状图（时间窗口、集中度）、横向柱状图（语言分布、国家分布）
✅ 趋势类：折线图（视频发布趋势）
✅ 关系类：散点图（四象限）
✅ 分布类：直方图（播放量分布）、热力图（发布时间）
✅ 文本类：表格（Top10频道）
✅ 周期类：雷达图（发布星期）
```

**多样性评估**：8/8 类型覆盖 ✅

---

## 全局时间筛选器

页面顶部提供时间范围筛选，切换后所有子标签数据同步刷新：

```
时间范围: [7天内 ▼] [30天内] [90天内] [全部]

当前: 显示 7 天内的数据（共 342 条视频）
```

- 默认选中「7天内」
- 切换时间范围后，所有子标签的图表数据联动刷新
- 筛选器下方用自然语言显示当前数据范围和数量

### 跨页面同步

时间范围筛选为**应用级全局状态**，切换后同步影响以下所有主页面：

| 受影响页面 | 同步行为 |
|-----------|---------|
| 全局认识 | 所有子标签图表数据刷新 |
| 套利分析 | 榜单数据按时间范围重新计算 |
| 信息报告 | 洞察和建议基于筛选后的数据生成 |
| 创作者中心 | 创作者相关数据按时间范围过滤 |

> 用户在任一页面切换时间范围，跳转到其他页面时保持同一时间范围。

---

## 页面结构（6 个子标签，2 组）

> 子标签 > 5 个，按认知维度分组，符合工作记忆约束

### 分组布局

```
┌─ 宏观概览 ─────────────────────────────────────┐
│ 📊 市场规模      📅 时间分布                     │
│ （有多大？）     （什么时候发？）                  │
├─ 内容与参与者 ─────────────────────────────────────┤
│ 📝 内容分布   🌐 语言分布   👥 频道格局   🌍 国家分布 │
│ （什么样？）  （什么语言？） （谁在做？）  （哪里的？） │
└────────────────────────────────────────────────────┘
```

### 子标签详情

| 分组 | 子标签 | 用户问题 | 核心图表 |
|------|--------|---------|---------|
| 宏观概览 | 📊 市场规模 | 有多大？ | 数字卡片 + 播放量分布直方图 + 视频趋势折线图 |
| 宏观概览 | 📅 时间分布 | 什么时候发？ | 时间窗口柱状图 + 星期雷达图 + 发布时间热力图 |
| 内容与参与者 | 📝 内容分布 | 什么样？ | 时长分布环形图 + 播放量分层饼图 + 四象限散点图 |
| 内容与参与者 | 🌐 语言分布 | 什么语言？ | 语言分布横向柱状图 |
| 内容与参与者 | 👥 频道格局 | 谁在做？ | 频道规模环形图 + 集中度柱状图 + Top10 表格 |
| 内容与参与者 | 🌍 国家分布 | 哪里的？ | 国家分布横向柱状图 |

---

## 设计约束遵循

| 约束 | 遵循情况 |
|------|---------|
| 工作记忆 ≤5（每组） | ✅ 宏观概览 2 个 + 内容与参与者 4 个，每组 ≤4 |
| 分组数 ≤3 | ✅ 2 组 |
| 用户能理解的指标 | ✅ 使用播放量、点赞数等基础指标 |
| 时长分档使用 YouTube 原生 | ✅ <4min/4-20min/>20min |
| 禁止模糊排序 | ✅ 无排序功能（纯展示），仅时间范围筛选 |
| 时间范围用明确数值 | ✅ 7天/30天/90天/全部 |
| 数据展示和行动建议分离 | ✅ 全局认识只展示数据，行动建议在「信息报告」页 |
| 图表多样性 | ✅ 8/8 类型覆盖 |
| 语言归内容维度 | ✅ 语言分布放在「内容与参与者」组 |
| 国家归参与者维度 | ✅ 国家分布放在「内容与参与者」组 |

---

## 模板文件

> 模板化设计原则见：`2026-02-04_v3_decision_图表选择策略.md` 第 5 节

| 文件路径 | 说明 |
|---------|------|
| `src/templates/charts/chart-templates.js` | 图表函数库（16 种） |
| `src/templates/charts/chart-styles.css` | 统一样式表 |
| `src/templates/charts/global-overview-template.html` | 本页面模板 |

---

## 使用示例

### 创建热力图

```javascript
import { createPublishTimeHeatmap } from './chart-templates.js';

createPublishTimeHeatmap('heatmap-container', {
  publishTimes: [
    { dayOfWeek: 0, hour: 10, count: 5 },
    { dayOfWeek: 1, hour: 14, count: 12 },
    // ...
  ]
});
```

### 创建直方图

```javascript
import { createHistogram } from './chart-templates.js';

createHistogram('histogram-container', {
  data: [100, 500, 1000, 5000, 10000, ...],
  bins: 10,
  title: '播放量分布'
});
```

---

## CDN 依赖

```html
<!-- 基础图表 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- 高级图表 -->
<script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
```

---

## 下一步

- [ ] 设计「信息报告」页面布局（洞察系统 Tab 3）
- [ ] 将模板集成到实际的报告生成器
- [ ] 添加数据绑定逻辑
- [ ] 添加 Google Trends 数据图表

---

## 相关文档

- **`2026-02-04_v3_decision_图表选择策略.md`** - 通用图表选择决策（本文档引用）
- `2026-02-04_v3_decision_套利页面布局.md` - 套利分析页面设计
- `.42cog/skills/data-visualization.skill.md` - 图表选择技能（完整决策矩阵）
- `.42cog/cog/cog.md` - 认知模型（ChartCognitionMapping 实体）
