---
id: insight-20260203-001
type: insight
title: AI 生态中的约定俗成文件名保护
date: 2026-02-03
tags: [naming-convention, ecosystem, ai-awareness, claude-code]
---

# AI 生态中的约定俗成文件名保护

**关键发现**：在编码规约优化过程中，发现了一个容易被忽略的陷阱——某些文件名是 AI 和工具生态的"约定俗成"，如果改名会导致 AI 识别失败。

---

## 问题背景

在设计编码规约时，一个合理的思路是：**所有文件都遵循 `YYYYMMDD_type_topic.md` 的格式，这样 AI 能自动推断日期、类型和主题。**

但这个思路有一个盲点：有些文件名不是项目自创的，而是 **AI 和工具生态的约定俗成**。如果你把 `README.md` 改成 `2026-02-03_v3_guide_project-overview.md`，Claude Code 就看不懂了。

### 受影响的范围

```
如果改名：
  README.md → 2026-02-03_v3_guide_readme.md
  .gitignore → 2026-02-03_config_git-ignore.md
  meta.md → 2026-02-03_spec_meta.md

后果：
  ❌ Claude Code 找不到 meta.md
  ❌ GitHub 无法识别项目说明
  ❌ Git 无法找到 .gitignore
```

---

## 约定俗成文件分类

### Category 1：认知敏捷法的核心文件

这些是知识大法规范定义的标准文件，**必须保持这个名字**：

| 文件 | 位置 | 作用 | 识别者 |
|------|------|------|--------|
| `meta.md` | `.42cog/meta/` | 项目章程 | Claude Code, 知识大法 |
| `cog.md` | `.42cog/cog/` | 认知模型 | Claude Code, 知识大法 |
| `real.md` | `.42cog/real/` | 现实约束 | Claude Code, 知识大法 |
| `spec/` | `.42cog/spec/` | 流程规约 | Claude Code, skill 系统 |
| `work.md` | `.42cog/work/` | 历史档案 | Claude Code, 知识大法 |

如果你改成：
```
❌ 2026-02-03_spec_meta.md
❌ 2026-02-03_spec_cog.md
❌ 2026-02-03_spec_real.md
```

Claude Code 就会完全失效，因为它已经被训练来识别这些固定的文件名。

### Category 2：Git 生态的约定

| 文件 | 作用 | 识别者 | 后果 |
|------|------|--------|------|
| `.gitignore` | 告诉 Git 哪些文件不提交 | Git, GitHub | 改名后 Git 忽略规则失效 |
| `.github/` | GitHub Actions 和工作流 | GitHub | 改名后自动化流程失败 |
| `.gitattributes` | Git 属性配置 | Git | 改名后文本转换失效 |

### Category 3：Node.js/Python 生态的约定

| 文件 | 作用 | 识别者 | 后果 |
|------|------|--------|------|
| `package.json` | 项目依赖和脚本 | npm, bun, Node.js | 改名后包管理失效 |
| `package-lock.json` | 依赖版本锁定 | npm | 改名后版本管理失效 |
| `pyproject.toml` | Python 项目配置 | pip, poetry, Python | 改名后环境配置失效 |
| `requirements.txt` | Python 依赖列表 | pip | 改名后依赖安装失效 |

### Category 4：IDE 和编辑器的约定

| 文件 | 作用 | 识别者 | 后果 |
|------|------|--------|------|
| `README.md` | 项目说明 | GitHub, VS Code, IDE | 改名后 IDE 无法显示项目说明 |
| `.vscode/settings.json` | VS Code 配置 | VS Code | 改名后个人设置失效 |
| `.editorconfig` | 编辑器通用配置 | 各种编辑器 | 改名后代码风格配置失效 |

### Category 5：AI 工具的约定

| 文件 | 作用 | 识别者 | 后果 |
|------|------|--------|------|
| `.claudeignore` | 告诉 Claude 哪些文件忽略 | Claude Code | 改名后 Claude 无法识别忽略列表 |
| `.42cog/` | 认知敏捷法目录 | Claude Code | 改名后 Claude 无法识别项目规约 |
| `*.skill.md` | Skill 定义文件 | Claude Code skill 系统 | 改名后 skill 无法被识别 |

---

## 编码规约的修正范围

### 修正前的理想规约

```
所有文件都遵循：YYYYMMDD_type_topic.md
```

**问题**：忽视了工具生态的约定俗成。

### 修正后的实用规约

```
├─ 约定俗成文件（保持原名）
│  ├─ .42cog/* 下的所有文件
│  ├─ .gitignore, .claudeignore 等配置
│  ├─ package.json, pyproject.toml 等管理文件
│  └─ README.md, .vscode/ 等工具文件
│
└─ 自创文档（遵循编码规约）
   ├─ 2026-02-03_spec_naming-convention.md
   ├─ 2026-02-03_v3_report_naming-audit.md
   ├─ 2026-02-03_v3_log_optimization-complete.md
   └─ 新的 insight、log、guide 等文档
```

---

## 如何判断一个文件是否应该改名

### 判断流程图

```
是否需要改名？

问题1: 这个文件是工具生态的标准吗？
       ├─ YES → 答案: 不改名 ✓
       └─ NO  → 继续

问题2: 这个文件是认知敏捷法的标准文件吗？
       ├─ YES → 答案: 不改名 ✓
       └─ NO  → 继续

问题3: AI 或 IDE 会通过固定名字查找这个文件吗？
       ├─ YES → 答案: 不改名 ✓
       └─ NO  → 继续

问题4: 改名后会导致自动化流程失效吗？
       ├─ YES → 答案: 不改名 ✓
       └─ NO  → 继续

答案: 可以改名，遵循编码规约 ✓
```

### 具体案例

#### 案例 1：`README.md`

```
问题1: 是工具生态标准吗？YES
       → GitHub 首页自动显示 README.md 的内容

结论: 必须保持 README.md，不能改成
      2026-02-03_v3_guide_project-overview.md
```

#### 案例 2：`meta.md`

```
问题1: 是工具生态标准吗？NO
问题2: 是认知敏捷法标准文件吗？YES
       → Claude Code 已被训练来查找 .42cog/meta/meta.md

结论: 必须保持 meta.md，不能改名
```

#### 案例 3：项目的新增文档 `naming-convention.md`

```
问题1: 是工具生态标准吗？NO
问题2: 是认知敏捷法标准文件吗？NO
问题3: AI 会查找这个文件吗？NO
问题4: 改名会导致失效吗？NO

结论: 可以改名！
      改成：2026-02-03_spec_naming-convention.md ✓
```

#### 案例 4：`.gitignore`

```
问题1: 是工具生态标准吗？YES
       → Git 默认查找 .gitignore

结论: 必须保持 .gitignore，不能改成
      2026-02-03_config_gitignore.md
```

---

## 对编码规约的启示

### 启示 1：规约不是绝对的，要尊重生态

编码规约看起来很"整齐划一"，但在实际应用中需要**向现实妥协**。有些文件名看起来"不规范"，但它们是整个 AI 和工具生态运作的基础。

改变这些名字，相当于在拆除房屋的基础。

### 启示 2：规约的真正用途是"消除混淆"

编码规约的目的不是"让所有文件看起来一样"，而是：
- **消除混淆**：自创的文档命名清晰，避免同名冲突
- **提高效率**：AI 能快速定位和理解文件
- **保留生态**：尊重工具和约定俗成，不破坏自动化流程

### 启示 3：智能的规约要有"例外条款"

好的规约不是死板的，而是**智能的、务实的**：
```
默认规则：所有文件遵循 YYYYMMDD_type_topic.md
例外条款：约定俗成的文件保持原名
验证规则：四个问题判断是否应该改名
```

---

## 对 AI 协作的启示

### 从"规约制定者"的角度

如果你是给 AI 制定规约的人，需要问自己：
- 这个规约会不会破坏 AI 和工具的生态识别？
- 有没有例外条款来保护约定俗成的文件名？
- 如何在"统一性"和"兼容性"之间找到平衡？

### 从"AI 使用者"的角度

如果你用 AI 来管理项目，需要理解：
- 某些文件名不能改，不是 AI 不聪明，而是它尊重工具生态
- 当 AI 拒绝改某个文件名时，问问为什么，而不是强行改
- 编码规约和工具约定是两回事，需要分开对待

---

## 实施建议

### 建议 1：在规约中明确列出保护文件

编码规约的第 1 章就应该说清楚：
```
【必须保持原名的文件】
.42cog/meta.md
.42cog/cog.md
.42cog/real.md
.gitignore
.claudeignore
README.md
... (完整列表)
```

这样 AI 和人都不会犯错。

### 建议 2：建立"文件名变更审批流程"

```
如果要改某个文件的名字：

1. 检查它是否在"保护列表"中
   ├─ YES → 拒绝变更
   └─ NO  → 继续

2. 运行 grep 检查是否有脚本引用它
   ├─ YES → 修改所有引用
   └─ NO  → 继续

3. 检查是否有工具配置指向它
   ├─ YES → 修改工具配置
   └─ NO  → 继续

4. 更新 cog.md 的同主题映射表

5. 执行变更 ✓
```

### 建议 3：定期审计"被无意改名的文件"

```bash
# 检查是否有人不小心改名了重要文件
git log --name-status | grep "meta.md\|cog.md\|real.md"
```

---

## 总结

| 方面 | 之前的认识 | 修正后的认识 |
|------|-----------|-----------|
| 编码规约范围 | 所有文件都要遵循规约 | 只有自创文档需要遵循规约 |
| 约定俗成文件 | 可以随意改名以求统一 | 必须保持原名，这是生态基础 |
| 规约的定位 | 绝对的、不可变的 | 灵活的、有例外条款的 |
| AI 的作用 | 遵循规约机械执行 | 理解规约同时尊重生态约定 |

---

**关键结论**：

> 编码规约的目的是**消除自创文档的混淆**，而不是**改变工具生态的约定俗成**。
>
> 好的规约，应该在"统一性"和"兼容性"之间找到平衡。

---

**参考文档**：
- [2026-02-03_spec_naming-convention.md](./2026-02-03_spec_naming-convention.md#三约定俗成文件名保护)
- [.42cog/cog/cog.md#约定俗成文件名的保护](./.42cog/cog/cog.md)
- [.42cog/meta/meta.md#编码规约](./.42cog/meta/meta.md)
