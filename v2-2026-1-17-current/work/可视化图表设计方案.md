# 可视化图表设计方案

> 目标：为模式洞察系统设计多样化的可视化图表，替代单调的条形图
> 创建日期：2026-01-24

---

## 设计原则

1. **数据驱动选型**：根据数据特征选择图表类型
2. **信息密度适中**：一图一核心发现
3. **交互性优先**：支持hover查看详情
4. **纯CSS/SVG实现**：不引入重型库

---

## Tab 1: 全局认识

### 模式4 - 内容类型天花板
**推荐图表**：气泡图（Bubble Chart）

```
数据维度：
- X轴：视频数量（竞争程度）
- Y轴：平均播放量（天花板）
- 气泡大小：最高播放量（爆款潜力）
- 颜色：内容类型

适合原因：展示三维关系，一眼看出"高天花板+低竞争"的蓝海赛道
```

### 模式23 - 话题垄断度
**推荐图表**：环形图（Donut Chart）

```
数据维度：
- 内环：Top3频道份额
- 外环：其他频道份额
- 颜色深浅：垄断程度

适合原因：直观展示"少数人占多数"的垄断格局
```

### 模式12 - 黑马频道
**推荐图表**：散点图（Scatter Plot）+ 参考线

```
数据维度：
- X轴：订阅数（对数刻度）
- Y轴：最高播放量
- 点大小：爆发倍率
- 参考线：平均爆发倍率

适合原因：识别"订阅少但播放高"的异常点（黑马）
```

### 模式31 - 高手画像
**推荐图表**：雷达图（Radar Chart）

```
数据维度：
- 维度1：垂直深耕度
- 维度2：更新稳定性
- 维度3：互动率
- 维度4：内容一致性
- 维度5：爆款概率

适合原因：多维度能力对比，形成"高手画像"
```

---

## Tab 2: 套利挖掘

### 模式20 - 地区差异
**推荐图表**：树状图（Treemap）

```
数据维度：
- 块面积：视频数量
- 块颜色：均播放量（绿高红低）
- 层级：国家/地区

适合原因：同时展示"市场规模"和"市场质量"
```

### 模式21 - 多语言市场
**推荐图表**：蝴蝶图（Butterfly Chart）

```
数据维度：
- 左侧：英语市场数据
- 右侧：日语市场数据
- 行：各话题
- 长度：均播放量

适合原因：直接对比两个市场的差异
```

### 模式24 - 收益矩阵
**推荐图表**：2×2 矩阵图（Quadrant Chart）

```
数据维度：
- X轴：CPM（收益潜力）
- Y轴：爆款率（成功概率）
- 四象限：
  - 右上：🔥 优先进入
  - 左上：⚡ 高风险高回报
  - 右下：📈 稳定但难爆
  - 左下：❌ 避免

适合原因：战略决策的经典工具
```

---

## Tab 3: 选题决策

### 模式13 - 话题生命周期
**推荐图表**：面积图（Area Chart）+ 时间线

```
数据维度：
- X轴：时间（月份）
- Y轴：播放量/热度
- 颜色区域：不同话题
- 标注：关键事件点

适合原因：展示话题的"兴起-高峰-衰退"周期
```

### 模式23 - 话题垄断度（选题视角）
**推荐图表**：堆叠条形图（Stacked Bar）

```
数据维度：
- 条形：各话题
- 堆叠段：Top1/Top2/Top3/其他
- 颜色：不同频道

适合原因：对比各话题的垄断程度差异
```

### 模式4 - 内容类型天花板（选题视角）
**推荐图表**：漏斗图（Funnel Chart）

```
数据维度：
- 层级：内容类型
- 宽度：平均播放量
- 排序：从高到低

适合原因：强调"选择即决定天花板"
```

---

## Tab 4: 内容创作

### 模式3 - 最佳视频时长
**推荐图表**：气泡散点图

```
数据维度：
- X轴：视频时长（分钟）
- Y轴：平均播放量
- 气泡大小：视频数量
- 气泡颜色：点赞率

适合原因：找到"最优时长区间"
```

### 模式7-10 - 标题特征
**推荐图表**：对比柱状图（Grouped Bar）

```
数据维度：
- 分组：各标题特征
- 柱1：有该特征的播放量
- 柱2：无该特征的播放量
- 标注：提升百分比

适合原因：A/B对比一目了然
```

### 标题长度 - 反常识发现
**推荐图表**：阶梯图（Step Chart）

```
数据维度：
- X轴：标题长度档次
- Y轴：平均播放量
- 阶梯：显示"越长越好"的趋势

适合原因：强调"反直觉"的发现
```

---

## Tab 5: 发布策略

### 模式5 - 最佳发布时间
**推荐图表**：热力图（Heatmap）

```
数据维度：
- X轴：星期几（周一-周日）
- Y轴：时段（上午/下午/晚上）
- 颜色深浅：平均播放量

适合原因：找到"黄金发布窗口"
```

### Shorts vs 长视频
**推荐图表**：雷达图对比

```
数据维度：
- 维度：播放量、点赞率、评论率、分享率、留存率
- 线1：Shorts
- 线2：长视频

适合原因：多维度对比两种形式
```

---

## Tab 6: 频道运营

### 模式11 - 频道稳定性
**推荐图表**：箱线图（Box Plot）

```
数据维度：
- 分组：各频道
- 箱体：播放量分布（25%-75%）
- 须线：最小/最大值
- 离群点：爆款视频

适合原因：展示"稳定性"的统计学含义
```

### 模式12 - 黑马频道
**推荐图表**：散点图 + 趋势线

```
数据维度：
- X轴：订阅数
- Y轴：爆发倍率
- 趋势线：显示"小号更容易爆"

适合原因：量化"黑马"现象
```

### 模式14 - 快速增长
**推荐图表**：时间线/甘特图（Timeline）

```
数据维度：
- Y轴：各频道
- X轴：时间
- 条形：活跃期
- 标注：关键视频发布点

适合原因：展示"爆发轨迹"
```

### 模式2 - 订阅≠效率
**推荐图表**：双轴图（Dual Axis）

```
数据维度：
- X轴：订阅档次
- 左Y轴（柱）：平均播放量
- 右Y轴（线）：播放效率

适合原因：同时展示"绝对值"和"效率"的反差
```

---

## CSS实现方案

### 1. 气泡图（纯CSS）
```css
.bubble-chart {
    position: relative;
    width: 100%;
    height: 300px;
}
.bubble {
    position: absolute;
    border-radius: 50%;
    opacity: 0.7;
    transition: transform 0.2s;
}
.bubble:hover {
    transform: scale(1.1);
    opacity: 1;
}
```

### 2. 环形图（SVG）
```html
<svg viewBox="0 0 100 100">
    <circle cx="50" cy="50" r="40"
            stroke-dasharray="188.5 62.8"
            stroke-dashoffset="0"/>
</svg>
```

### 3. 2×2 矩阵（CSS Grid）
```css
.matrix-2x2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 2px;
}
.quadrant {
    padding: 16px;
    position: relative;
}
```

### 4. 热力图（CSS Grid）
```css
.heatmap {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
}
.heat-cell {
    aspect-ratio: 1;
    background: var(--heat-color);
}
```

### 5. 散点图（定位）
```css
.scatter-plot {
    position: relative;
    border-left: 2px solid #64748b;
    border-bottom: 2px solid #64748b;
}
.scatter-point {
    position: absolute;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    transform: translate(-50%, 50%);
}
```

---

## 实现状态

### ✅ 已实现（第一批 2026-01-24）

| 图表类型 | 应用模式 | 状态 |
|----------|----------|------|
| 2×2矩阵 | 模式24（收益矩阵） | ✅ 已实现 |
| 环形图 | 模式23（话题垄断度） | ✅ 已实现 |
| 散点图 | 模式12（黑马频道） | ✅ 已实现 |
| 气泡图 | 模式3（视频时长） | ✅ 已实现 |
| 热力图 | 模式5（发布时间） | ✅ 已实现 |
| 蝴蝶图 | 模式21（多语言市场） | ✅ 已实现 |

### ✅ 已实现（第二批 2026-01-24）

| 图表类型 | 应用模式 | 说明 |
|----------|----------|------|
| 雷达图 | 模式31（高手画像） | SVG六边形雷达，展示多维能力 |
| 阶梯图 | 模式7-10（标题长度） | 强调"越长越好"的递进关系 |
| A/B对比进度条 | 模式7-10（标题特征） | 双行进度条+效果标注 |
| 趋势箭头卡片 | 模式20（搜索增长） | 卡片网格+箭头+百分比 |
| 词云 | 模式27（标题钩子） | 大小编码效果，颜色编码好/坏 |
| 增长时间线 | 模式14（快速增长） | 垂直时间线+排名徽章 |

### ⏳ 待实现

| 优先级 | 图表类型 | 应用模式 | 复杂度 |
|--------|----------|----------|--------|
| P2 | 面积图 | 模式13（话题周期） | 高 |
| P2 | 箱线图 | 模式11（频道稳定性） | 高 |
| P2 | 双轴图 | 模式2（订阅≠效率） | 中 |
| P2 | 树状图 | 模式20（地区分布） | 高 |
| P3 | 漏斗图 | 模式4（内容天花板） | 中 |
| P3 | 堆叠条形图 | 模式23（垄断对比） | 中 |

---

## 新增图表CSS实现

### 6. 阶梯图（Step Chart）
```css
.step-chart {
    display: flex;
    align-items: flex-end;
    gap: 0;
    height: 200px;
}
.step-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.step-bar {
    width: 100%;
    background: linear-gradient(180deg, #06b6d4, #0891b2);
    border-radius: 4px 4px 0 0;
}
.step-item.best .step-bar {
    background: linear-gradient(180deg, #22c55e, #16a34a);
}
```

### 7. A/B对比进度条
```css
.ab-compare-row {
    display: grid;
    grid-template-columns: 100px 1fr 60px;
    gap: 12px;
}
.ab-bar-fill.win {
    background: linear-gradient(90deg, #22c55e, #16a34a);
}
.ab-bar-fill.lose {
    background: linear-gradient(90deg, #64748b, #475569);
}
```

### 8. 趋势箭头卡片
```css
.trend-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
}
.trend-card.hot::before {
    content: '';
    position: absolute;
    top: 0;
    height: 3px;
    background: linear-gradient(90deg, #22c55e, #4ade80);
}
.trend-card-value.positive { color: #22c55e; }
.trend-card-value.negative { color: #ef4444; }
```

### 9. 词云
```css
.word-cloud {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px 12px;
}
.word-cloud-item.size-5 {
    font-size: 1.6em;
    color: #22c55e;
    font-weight: 700;
}
.word-cloud-item.hot {
    background: rgba(34, 197, 94, 0.15);
}
.word-cloud-item.warning {
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
}
```

### 10. 增长时间线
```css
.growth-timeline {
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.timeline-item {
    display: flex;
    align-items: center;
    gap: 12px;
}
.timeline-rank.gold {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
}
```

---

## 配色方案

```css
:root {
    /* 语义色 */
    --color-success: #22c55e;
    --color-warning: #fbbf24;
    --color-danger: #ef4444;
    --color-info: #06b6d4;

    /* 热力图渐变 */
    --heat-0: #1e293b;
    --heat-1: #1e3a5f;
    --heat-2: #0e7490;
    --heat-3: #06b6d4;
    --heat-4: #22d3ee;

    /* 分类色板 */
    --cat-1: #06b6d4;
    --cat-2: #8b5cf6;
    --cat-3: #f59e0b;
    --cat-4: #10b981;
    --cat-5: #ec4899;
}
```

---

## 交互设计

1. **Hover提示**：显示具体数值
2. **点击聚焦**：高亮相关数据点
3. **图例切换**：显示/隐藏某类数据
4. **响应式**：小屏幕简化展示

---

## 下一步

1. 先实现P0优先级的3种图表
2. 在insight-system.html中替换现有条形图
3. 测试交互效果
4. 逐步添加P1、P2图表
