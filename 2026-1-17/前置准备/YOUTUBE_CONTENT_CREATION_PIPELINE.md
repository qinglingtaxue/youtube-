# YouTube 内容创作者数据洞察平台

> 基于 42plugin 生态 + 综合模式（AI+RPA+Playwright）+ 可解释 AI 洞察

---

## 一、平台架构概览

### 1.1 核心价值主张

```
传统工具（VidIQ/TubeBuddy）：数据罗列
                ↓
本平台差异化价值：
  ✅ 有分析框架（四象限、时长矩阵、套利分析）
  ✅ 可解释 AI 洞察（每个结论有推理链）
  ✅ Actionable（每个洞察对应行动建议）
```

### 1.2 用户旅程

```
输入关键词 → 数据采集 → 多维分析 → 可视化呈现 → 洞察生成 → 行动建议
```

### 1.3 系统架构图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    YouTube 内容创作者数据洞察平台                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                         用户交互层                                     │  │
│  │  SearchPanel │ FilterChip │ RankingList │ MonitorTask │ TrendingTracker│  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                    ↓                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                         分析框架层                                     │  │
│  │  ContentQuadrant │ DurationMatrix │ ArbitrageFramework │ KeywordNetwork│  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                    ↓                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                         可视化层                                       │  │
│  │  InsightCard │ ReasoningChain │ ConfidenceBar │ ScatterChart │ BarChart│  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                    ↓                                        │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                         报告输出层                                     │  │
│  │  AnalysisReport │ MarketReport │ OpportunityReport │ ArbitrageReport   │  │
│  │  DiagnoseReport                                                        │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                         数据源层                                       │  │
│  │  CompetitorVideo │ Channel │ TrendSnapshot                            │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                      综合模式执行层                                     │  │
│  │  AI理解(低Token) → RPA执行(0 Token) → Playwright验收/修正              │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 二、核心功能模块

### 2.1 功能矩阵

| 模块 | 解决的问题 | 输入 | 输出 | 核心实体 |
|------|-----------|------|------|----------|
| 选题发现 | "我该做什么内容？" | 关键词 | 视频榜单、机会洞察 | CompetitorVideo, RankingList |
| 竞品分析 | "谁做得好？怎么做的？" | 视频数据 | 四象限、频道榜 | ContentQuadrant, Channel |
| 频道诊断 | "我哪里需要改进？" | 频道链接 | 评分、改进建议 | DiagnoseReport |
| 监控追踪 | "市场有什么变化？" | 监控任务 | 趋势图、增长数据 | MonitorTask, TrendSnapshot |
| 套利分析 | "哪里有价值洼地？" | 视频数据 | 套利机会列表 | ArbitrageOpportunity, BridgeTopic |

### 2.2 页面结构

| 页面 | 路径 | 核心实体 | 功能 |
|------|------|----------|------|
| 入口导航 | `web/index.html` | - | 功能入口 |
| 主控台 | `demo.html` | SearchPanel, RankingList, MonitorTask | 选题发现、频道诊断、监控中心 |
| 竞品报告 | `public/index.html` | AnalysisReport, MarketReport | 数据概览、市场边界 |
| 套利分析 | `public/arbitrage.html` | ArbitrageReport, ArbitrageOpportunity | 套利机会发现 |
| 内容四象限 | `public/content-map.html` | ContentQuadrant, ScatterChart | 播放量×互动率矩阵 |
| 洞察系统 | `web/insight-system.html` | InsightCard, ReasoningChain | 可解释 AI 洞察 |

---

## 三、分析框架详解

### 3.1 内容四象限 (ContentQuadrant)

基于 播放量 × 互动率 的二维分类：

```
        高互动率
           ↑
    💎 Niche    ⭐ Star
    (粉丝向)     (爆款型)
           ↑
低播放 ←——————————————→ 高播放
           ↓
    ❄️ Dog      🚀 Viral
    (冷门型)     (破圈型)
           ↓
        低互动率
```

| 象限 | 播放量 | 互动率 | 策略 |
|------|--------|--------|------|
| Star | 高 | 高 | 学习标杆，分析选题/标题/封面 |
| Niche | 低 | 高 | 深耕细分，建立核心粉丝群 |
| Viral | 高 | 低 | 优化互动，增加内容深度 |
| Dog | 低 | 低 | 避免重复，分析失败原因 |

### 3.2 时长分布矩阵 (DurationMatrix)

分析供给与需求的关系，发现时长蓝海：

```
0-1分钟   ████░░░░░░ 供给 12%
1-3分钟   ██████░░░░ 供给 28%
3-5分钟   ████████░░ 供给 15%   ← 平均播放最高（机会区间）
5-10分钟  ██████████ 供给 8%
```

**核心指标**：
- best_bucket：平均播放量最高的时长区间
- opportunity_bucket：高播放低供给的机会区间

### 3.3 套利分析框架 (ArbitrageFramework)

**核心公式**：
```
有趣度 = 信息价值程度 / 信息传播程度 = 中介中心性 / 程度中心性
高有趣度 = 价值被低估 = 套利机会
```

| 套利类型 | 有趣度公式 | 含义 |
|----------|------------|------|
| 话题套利 | 中介中心性 / 程度中心性 | 能连接多群体但传播不足的话题 |
| 跨语言套利 | 源市场播放量 / 目标市场视频数 | 源市场火爆但目标市场空白 |
| 时长套利 | 平均播放量 / 供给占比 | 播放量高但供给不足的时长 |
| 频道套利 | 最高播放 / 频道平均播放 | 小频道爆款，内容本身有价值 |
| 趋势套利 | 近期频率 / 历史频率 | 上升趋势话题，提前布局 |

### 3.4 关键词网络 (KeywordNetwork)

用于发现"桥梁话题"（BridgeTopic）：

- **节点**：从视频标题中提取的关键词
- **边**：两个关键词在同一视频标题中共现
- **桥梁话题特征**：高中介中心性 + 低程度中心性 = 高有趣度

---

## 四、可视化层设计

### 4.1 洞察卡片 (InsightCard)

```
┌─────────────────────────────────────────────┐
│ 💡 洞察标题                    [展开/折叠]  │
├─────────────────────────────────────────────┤
│ [置信度条 ████████░░ 78%]                   │
│ 数据源: [视频数据] [频道数据] [趋势数据]     │
├─────────────────────────────────────────────┤
│ ┌─────────────┐  ┌─────────────────────┐   │
│ │  可视化图表  │  │    推理链          │   │
│ │  (SVG/图)   │  │  📊 观察 → 权重30% │   │
│ │             │  │      ↓             │   │
│ │             │  │  📈 分析 → 权重50% │   │
│ │             │  │      ↓             │   │
│ │             │  │  ✅ 结论           │   │
│ └─────────────┘  └─────────────────────┘   │
└─────────────────────────────────────────────┘
```

### 4.2 推理链 (ReasoningChain)

**设计目的**：让 AI 洞察不再是黑箱，用户能看懂结论是怎么来的。

核心属性：
- steps：推理步骤列表（icon、name、observation、weight）
- conclusion：最终结论
- total_confidence：综合置信度

### 4.3 置信度条 (ConfidenceBar)

表示洞察可靠性（0-100%），帮助用户判断结论的可信程度。

---

## 五、报告实体

### 5.1 报告类型矩阵

| 报告类型 | 目标 | 核心内容 |
|----------|------|----------|
| AnalysisReport | 综合分析 | 市场全貌、四象限分类、时长分析、创作机会 |
| MarketReport | 市场定位 | 市场规模、频道竞争、进入壁垒 |
| OpportunityReport | 机会发现 | 近期爆款、高增长视频、小频道黑马 |
| ArbitrageReport | 套利分析 | 话题/频道/时长/趋势套利机会 |
| DiagnoseReport | 频道诊断 | 评分、优劣势、改进建议、对标频道 |

### 5.2 AnalysisReport 结构

```yaml
report_id: YYYYMMDD_HHMMSS
topic: 分析主题/关键词
sample_size: 样本量
tabs:
  - 概览（数据摘要）
  - 市场边界（竞争格局）
  - 时间分析（发布趋势）
  - AI创作机会（套利点）
  - 内容分析（四象限）
quadrant_data: 四象限分类数据
duration_matrix: 时长分布矩阵
insights: 洞察卡片列表
```

---

## 六、内容创作工作流

### 6.1 五阶段流程

```
调研(Research) → 策划(Planning) → 制作(Production) → 发布(Publishing) → 复盘(Analytics)
```

每阶段输入输出：

| 阶段 | 输入 | 输出 |
|------|------|------|
| 调研 | 关键词 | 竞品视频 + 市场数据 |
| 分析 | 市场数据 | 市场报告 + 机会报告 + 趋势快照 |
| 策划 | 报告 | 规约(Spec) + 脚本(Script) |
| 制作 | 脚本 | 视频 + 字幕 + 封面 |
| 发布 | 视频 | 上传确认 + YouTube ID |
| 复盘 | YouTube ID | 数据报告 → 下轮调研输入 |

### 6.2 42plugin 插件映射

| 阶段 | 插件 | 功能 |
|------|------|------|
| **调研** | youtube-downloader | 高质量视频下载(4K) |
| | youtube-transcript | 字幕提取 |
| | youtube-to-markdown | 视频元数据转MD |
| | data-collector | 数据采集（含时间过滤） |
| | data-validator | 数据验证 |
| **分析** | research-report | 调研报告生成 |
| | visualization | 可视化图表生成 |
| **策划** | content-creator | 品牌声音+SEO优化 |
| | ideation | 创意构思 |
| | spec-generator | 规约文档生成 |
| **制作** | transcript-fixer | 字幕修复优化 |
| | media-processing | 音视频处理 |
| **发布** | viral-automation | 病毒式传播自动化 |
| | website-automation | 网站自动化操作 |

---

## 七、CLI 命令参考

### 7.1 数据采集命令

```bash
# 采集竞品视频数据
research collect --keyword "养生" --limit 100

# 查看数据库统计
research stats
```

### 7.2 分析命令

```bash
# 市场分析报告
analytics market --keyword "养生"

# AI创作机会分析
analytics opportunities --keyword "养生"

# 综合HTML报告
analytics report --keyword "养生" --output report.html

# 四象限分析
analytics quadrant --keyword "养生"
```

### 7.3 套利分析命令

```bash
# 综合套利分析
arbitrage analyze --keyword "养生"

# 话题套利（桥梁话题）
arbitrage topic --keyword "养生"

# 频道套利（小频道爆款）
arbitrage channel --keyword "养生"

# 时长套利（供需不平衡）
arbitrage duration --keyword "养生"

# 趋势套利（上升/下降话题）
arbitrage timing --keyword "养生"

# 博主定位建议
arbitrage profile --type beginner
```

### 7.4 监控命令

```bash
# 创建播放量快照
monitor snapshot --keyword "养生"

# 增长趋势分析
monitor trends --keyword "养生" --days 15
```

### 7.5 诊断命令

```bash
# 频道诊断报告
diagnose channel --url "https://youtube.com/@channel"
```

---

## 八、API 端点参考

| 端点 | 方法 | 操作实体 | 功能 |
|------|------|----------|------|
| `/ws/{task_id}` | WS | CompetitorVideo | WebSocket 数据采集 |
| `/api/channel/{id}` | GET | Channel | 获取频道详情 |
| `/api/channels/batch` | POST | Channel | 批量获取频道数据 |
| `/api/videos` | GET | CompetitorVideo | 视频列表查询 |
| `/api/monitor` | POST | MonitorTask | 创建监控任务 |
| `/api/trends/{keyword}` | GET | TrendSnapshot | 获取趋势数据 |

---

## 九、技术栈清单

### 9.1 核心依赖

| 工具 | 版本 | 用途 |
|------|------|------|
| Python | ≥3.10 | 后端运行 |
| yt-dlp | ≥2025.10.22 | YouTube 数据采集 |
| FFmpeg | ≥6.0 | 音视频处理 |
| Whisper | ≥20230918 | 语音识别 |
| Chart.js | - | 前端图表 |
| D3.js | - | 网络可视化 |

### 9.2 前端架构

- HTML/CSS/JS 单页应用
- 暗色主题 UI（#0f172a 背景）
- WebSocket 实时通信

### 9.3 综合模式执行

| 模式 | Token消耗 | 稳定性 | 适用场景 |
|------|-----------|--------|----------|
| 纯Playwright MCP | ~200,000/任务 | 低 | 探索新流程 |
| 纯RPA脚本 | 0 | 中 | 稳定重复任务 |
| **综合模式** | ~1,000/任务 | **高** | **生产环境** |

---

## 十、时间窗口定义

### 10.1 用户可见时间窗口

| 窗口名称 | 天数范围 | 用途 |
|---------|---------|-----|
| 1天内 | 0-1 | 实时热点追踪 |
| 15天内 | 0-15 | 短期趋势分析 |
| 30天内 | 0-30 | 月度表现评估 |
| 全部 | 不限 | 全量数据分析 |

### 10.2 内部存储时间桶

| 桶名称 | 天数范围 |
|-------|---------|
| 24小时内 | 0-1 |
| 7天内 | 1-7 |
| 30天内 | 7-30 |
| 90天内 | 30-90 |
| 6个月内 | 90-180 |
| 1年内 | 180-365 |
| 1年以上 | 365+ |

---

## 十一、目标用户画像

**主要用户**：
- 中文 YouTube 创作者
- 垂类内容：养生、教程、美食、旅行
- 目标受众：新加坡、马来西亚、台湾、香港等华语地区
- 追求数据驱动的内容优化

**核心痛点**：
| 痛点 | 本平台解决方案 |
|------|---------------|
| 选题迷茫 | 视频榜单 + 机会洞察 |
| 竞争盲区 | 四象限分析 + 频道榜 |
| 优化无方向 | 频道诊断 + 改进建议 |
| 趋势滞后 | 监控追踪 + 趋势套利 |

---

## 十二、博主定位策略

| 博主类型 | 资源特点 | 适合的套利 | 策略 |
|----------|----------|------------|------|
| **小白博主** | 无流量、无经验 | 话题套利、时长套利、频道套利 | 找供给不足的细分，模仿小频道爆款 |
| **腰部博主** | 有基础、有粉丝 | 桥梁话题、跨品类套利 | 连接两个受众群体，跨品类迁移 |
| **头部博主** | 有流量、有资源 | 趋势套利、跨语言套利 | 早期布局新趋势，翻译套利 |

---

## 十三、参考资料

### 项目文档
- [认知模型 cog.md](../.42cog/cog/cog.md)
- [领域模型 DOMAIN_MODEL.md](./DOMAIN_MODEL.md)
- [综合模式决策文档](../.42cog/work/2026-01-09-决策-为什么放弃纯Playwright采用综合模式.md)

### 外部资源
- [yt-dlp 官方文档](https://github.com/yt-dlp/yt-dlp)
- [YouTube API 文档](https://developers.google.com/youtube/v3)
- [MCP 协议规范](https://modelcontextprotocol.io/)

---

*文档版本: 2.0*
*更新日期: 2026-01-21*
*同步源: .42cog/cog/cog.md*
