# transcript-fixer

修复和优化字幕。

## 触发条件

- 用户要修复字幕错误
- 用户要优化字幕格式
- 字幕需要校对

## 功能

### 1. 错别字修正
- 识别并修正错别字
- 修正同音字错误
- 修正 ASR 常见错误

### 2. 断句优化
- 调整过长的句子
- 合并过短的片段
- 优化阅读节奏

### 3. 时间轴调整
- 修复时间重叠
- 调整显示时长（1-7秒）
- 同步音画

### 4. 格式规范化
- 每行不超过 42 字符（中文）
- 每屏不超过 2 行
- 统一标点符号

## 字幕规范

| 规则 | 中文 | 英文 |
|------|------|------|
| 每行字符 | ≤42 | ≤72 |
| 每屏行数 | ≤2 | ≤2 |
| 最短时长 | 1秒 | 1秒 |
| 最长时长 | 7秒 | 7秒 |

## 命令

```bash
# SRT 转 VTT
ffmpeg -i input.srt output.vtt

# VTT 转 SRT
ffmpeg -i input.vtt output.srt
```

## 输出

- 修复后的字幕：`data/transcripts/{video_id}_fixed.srt`
