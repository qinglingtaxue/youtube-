---
name: project-real
description: YouTube 端到端内容创作流水线的现实约束
---

# 现实约束 (Real)

> 这些是 AI 不太容易想到，但在现实世界中会造成实际损失的硬性限制。

<real>

## 必选约束（必须遵守）

1. **YouTube 社区准则红线**
   - 不得批量上传重复/低质内容（会触发频道惩罚）
   - 不得使用误导性标题/封面（违反欺骗性做法政策）
   - 不得在元数据中堆砌无关关键词（会降低搜索排名）

2. **版权合规**
   - 竞品视频仅供分析，不得直接使用其内容
   - 背景音乐必须使用免版税或已授权素材
   - 字幕翻译不构成原创，转载需注明来源

3. **API/自动化限制**（含数据采集）
   - YouTube Data API 每日配额有限（默认 10,000 单位），需谨慎使用
   - 浏览器自动化操作频率不得过快（建议每次操作间隔 2-5 秒）
   - 登录态 Cookie 有效期有限，需定期刷新或重新登录
   - **数据采集三角约束**：速率 × 质量 × 覆盖度 不可兼得（详见附录 A）

4. **存储与成本控制**
   - 视频文件体积大（1080p 约 100MB/分钟），必须执行滚动清理策略
   - 避免无限缓存竞品视频，设置 30 天自动删除
   - Token 消耗需监控，综合模式单次上传应控制在 ~1,000 token

</real>

<real optional="true">

## 可选约束（建议遵守）

5. **发布时间优化**
   - 目标受众活跃时间发布（如中文内容建议北京时间 18:00-22:00）
   - 避免密集发布（同一频道每日最多 1-2 个视频）

6. **SEO 最佳实践**
   - 标题长度建议 50-60 字符（移动端显示完整）
   - 描述前 150 字符应包含核心关键词（搜索结果可见部分）
   - 标签数量建议 5-15 个（太多反而稀释相关性）

7. **本地环境依赖**
   - mcp-chrome 需要 Chrome 浏览器已安装并登录 YouTube
   - Whisper 模型首次运行会下载权重文件（base 模型约 150MB）
   - FFmpeg 需要支持 libx264 编码器

</real>

---

## 约束的执行时机

| 约束 | 执行时机 | 检查方式 |
|------|----------|----------|
| YouTube 社区准则 | 发布前 | 人工审核 + AI 内容检测 |
| 版权合规 | 制作阶段 | 素材来源记录 |
| API 配额限制 | 调研/发布阶段 | 配额计数器 |
| 存储清理 | 每日定时任务 | cron job + storage.yaml 策略 |
| 发布时间 | 发布阶段 | 定时发布功能 |
| SEO 最佳实践 | 策划阶段 | seo_optimizer.py 评分 |

---

## 与 prompts/ 的关系

提示词执行前，应检查是否触发上述约束。例如：

- `PROMPT_02_调研阶段.md` 执行批量下载时 → 检查存储空间是否充足
- `PROMPT_05_发布阶段.md` 执行上传时 → 检查元数据是否符合 SEO 规范
- 任何涉及 API 调用的操作 → 检查当日配额余量

这样，约束不再是事后的"后悔药"，而是**流程的前置守卫**。

---

## 附录 A：数据采集三角约束

```
        速率 (每天能采多少)
           /\
          /  \
         /    \
        /______\
   质量          覆盖度
(有完整详情)    (话题多样性)
```

**核心洞察**：三者不可兼得，必须根据阶段目标取舍。

### 三种采集策略

| 策略 | 速率 | 质量 | 覆盖度 | 适用场景 |
|------|------|------|--------|----------|
| **广度优先** | 1000条/天 | 低(仅标题) | 高 | 建立基线、发现新话题 |
| **深度优先** | 100条/天 | 高(含详情) | 低 | 竞品深度分析 |
| **平衡模式** | 500+50条/天 | 中 | 中 | 日常运营(推荐) |

### 关键瓶颈数字

| 瓶颈 | 限制 | 应对 |
|------|------|------|
| yt-dlp 速率 | ~20条/次搜索，连续请求易被限 | 间隔 3-5 秒，分散时段 |
| 详情获取 | ~5-10秒/条 | 只对高价值视频(>1万播放)获取 |
| 网络分析 | >50,000 节点时变慢 | 增量计算，定期归档 |
| 重复率 | 热门视频占比 30-50% | 去重后实际量打 5-7 折 |

### 建议采集节奏

```yaml
# 健康频道博主推荐配置
phase_1_baseline:  # 第 1 个月
  target: 10,000 条
  focus: 覆盖 50+ 子话题
  detail_ratio: 10%

phase_2_tracking:  # 第 2-3 个月
  target: 5,000 条/月
  focus: 追踪趋势变化
  detail_ratio: 5%

phase_3_maintain:  # 持续
  target: 500 条/周
  focus: 新兴话题监控
  detail_ratio: 10%
```

> **记住**：专家直觉来自结构化认知，不是数据堆积。5000 条高质量 > 30000 条低质量。
